#!/usr/bin/bash

# To have a random hostname at each boot:
# 1 place this file in /usr/bin/ as autochange-hostname.sh
# 2 add command to @reboot line of root's crontab
# @reboot /usr/bin/autochange-hostname.sh


cp -n /etc/hosts{,.old}


newhostname=$(cat /dev/urandom | tr -dc 'a-zA-Z1-9' | head -c "$(shuf -i8-16 -n1)")

hostnamectl set-hostname "$newhostname"

echo "127.0.0.1    localhost" > /etc/hosts
echo "127.0.0.1    $newhostname" >> /etc/hosts



exit

